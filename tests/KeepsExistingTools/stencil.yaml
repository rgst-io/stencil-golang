# yaml-language-server: $schema=https://raw.githubusercontent.com/rgst-io/stencil/refs/heads/main/schemas/stencil.jsonschema.json
name: keeps-existing-tools
arguments:
  org: fake
testing:
  validators:
    - |-
        mise trust
        mise install

        expected_version="2.8.0"
        current_version=$("$HOME/.local/share/mise/shims/stencil" --version | grep "GitVersion:" | awk '{ print $2 }')
        if [[ "$current_version" != "$expected_version" ]]; then
          echo "Expected $expected_version, got $current_version"
          exit 1
        fi
